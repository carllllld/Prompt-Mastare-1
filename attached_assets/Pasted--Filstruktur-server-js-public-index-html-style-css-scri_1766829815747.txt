üìÅ Filstruktur
/server.js
/public
  ‚îú‚îÄ‚îÄ index.html
  ‚îú‚îÄ‚îÄ style.css
  ‚îî‚îÄ‚îÄ script.js

üîß server.js
import express from "express";
import fetch from "node-fetch";
import cors from "cors";

const app = express();
app.use(cors());
app.use(express.json());
app.use(express.static("public"));

const SYSTEM_PROMPT = `
Du √§r en expert p√• prompt engineering och AI-kommunikation.
Ditt m√•l √§r att f√∂rb√§ttra anv√§ndarens prompt enligt b√§sta praxis.

Svara ALLTID i detta format:

F√∂rb√§ttrad prompt:
...

Vad som f√∂rb√§ttrades:
- ...

Extra till√§ggsf√∂rslag:
- ...
`;

app.post("/optimize", async (req, res) => {
  const { userPrompt, promptType } = req.body;

  try {
    const response = await fetch("https://api.openai.com/v1/chat/completions", {
      method: "POST",
      headers: {
        "Authorization": `Bearer ${process.env.OPENAI_API_KEY}`,
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        model: "gpt-4o-mini",
        messages: [
          { role: "system", content: SYSTEM_PROMPT },
          {
            role: "user",
            content: `Prompt-typ: ${promptType}\n\nAnv√§ndarens prompt:\n${userPrompt}`
          }
        ],
        temperature: 0.4
      })
    });

    const data = await response.json();
    res.json({ result: data.choices[0].message.content });
  } catch (err) {
    res.status(500).json({ error: "N√•got gick fel" });
  }
});

app.listen(3000, () => console.log("Server running on port 3000"));

üåê index.html
<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <title>Prompt Optimizer</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Optimera din AI-prompt</h1>

  <select id="type">
    <option>General</option>
    <option>Business / Marketing</option>
    <option>Coding</option>
    <option>Writing</option>
    <option>Study</option>
  </select>

  <textarea id="prompt" placeholder="Klistra in din prompt h√§r..."></textarea>
  <button onclick="optimize()">Optimera prompt</button>

  <pre id="result"></pre>

  <script src="script.js"></script>
</body>
</html>

üìú script.js
async function optimize() {
  const userPrompt = document.getElementById("prompt").value;
  const promptType = document.getElementById("type").value;

  const res = await fetch("/optimize", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ userPrompt, promptType })
  });

  const data = await res.json();
  document.getElementById("result").innerText = data.result;
}